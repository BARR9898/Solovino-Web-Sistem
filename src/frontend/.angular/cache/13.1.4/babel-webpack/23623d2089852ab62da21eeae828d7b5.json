{"ast":null,"code":"import { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../core/services/User/user\";\nimport * as i2 from \"@angular/router\";\nexport let LoginService = /*#__PURE__*/(() => {\n  class LoginService {\n    constructor(userService, router) {\n      this.userService = userService;\n      this.router = router;\n      this.changeUserStatusSubject = new Subject();\n      this.changeUserStatus$ = this.changeUserStatusSubject.asObservable();\n      this.urlUsuarioIngentaAcceder = '';\n      this.changeLoginStatusSubject = new Subject();\n      this.changeLoginStatus$ = this.changeLoginStatusSubject.asObservable();\n      this.ISLOGGEDKEY = 'islogged';\n    }\n\n    login(email, password) {\n      console.log(email, password);\n      this.userService.existUser(email, password).subscribe(res => {\n        console.log(res);\n\n        if (res != null) {\n          this.user = res;\n          localStorage.setItem(this.ISLOGGEDKEY, 'true');\n          this.changeLoginStatusSubject.next(true);\n          this.changeUserStatusSubject.next(this.user);\n          this.router.navigate(['/admin']);\n          return true;\n        }\n\n        return null;\n      }, err => console.log(err));\n    }\n\n    logout() {\n      localStorage.removeItem(this.ISLOGGEDKEY);\n      this.changeLoginStatusSubject.next(false);\n      this.changeUserStatusSubject.next(null);\n    }\n\n    isLoggedIn() {\n      const isLogged = localStorage.getItem(this.ISLOGGEDKEY);\n      console.log(isLogged);\n\n      if (!isLogged) {\n        console.log('isLogged es falso'); //this.urlUsuarioIngentaAcceder = url;\n\n        return false;\n      }\n\n      return true;\n    }\n\n  }\n\n  LoginService.ɵfac = function LoginService_Factory(t) {\n    return new (t || LoginService)(i0.ɵɵinject(i1.UserService), i0.ɵɵinject(i2.Router));\n  };\n\n  LoginService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: LoginService,\n    factory: LoginService.ɵfac,\n    providedIn: 'root'\n  });\n  return LoginService;\n})();","map":null,"metadata":{},"sourceType":"module"}