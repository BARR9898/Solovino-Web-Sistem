{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/core/services/posts/posts.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"@angular/material/toolbar\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/material/icon\";\n\nfunction ViewPostComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Archivo: \", ctx_r1.fileName, \"\");\n  }\n}\n\nfunction ViewPostComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵtext(2, \"Cargar imagen\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-icon\");\n    i0.ɵɵtext(4, \"attach_file\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ViewPostComponent_option_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(option_r5);\n  }\n}\n\nexport let ViewPostComponent = /*#__PURE__*/(() => {\n  class ViewPostComponent {\n    constructor(activatedRouter, postService, formBuilder, router) {\n      this.activatedRouter = activatedRouter;\n      this.postService = postService;\n      this.formBuilder = formBuilder;\n      this.router = router;\n      this.fileName = '';\n      this.sex_options = ['Hembra', 'Macho'];\n      this.id = '';\n      this.postFromServer = [];\n      this.previewForm = this.formBuilder.group({\n        name_pet: [''],\n        age_pet: [''],\n        race_pet: [''],\n        sex_pet: [''],\n        description_pet: [''],\n        date_disapparence: [''],\n        place_disapparence: ['']\n      });\n      this.updatePetForm = this.formBuilder.group({\n        name_pet: [''],\n        age_pet: [''],\n        race_pet: [''],\n        sex_pet: [''],\n        image: [''],\n        description_pet: [''],\n        date_disapparence: [''],\n        place_disapparence: ['']\n      });\n    }\n\n    ngOnInit() {\n      this.activatedRouter.params.subscribe(res => {\n        console.log(res);\n        this.id = res['id'];\n      });\n      this.postService.getPost(this.id).subscribe(res => {\n        this.postFromServer = res;\n        console.log(this.postFromServer);\n      });\n    }\n\n    updatePet(sex_pet) {\n      this.updatePetForm.controls['sex_pet'].setValue(sex_pet.value);\n      const newPost = this.updatePetForm.value;\n      this.postService.updatePost(this.id, newPost).subscribe(res => {\n        this.router.navigate(['admin/list-posts']);\n      });\n    }\n\n    onPhotoSelected(event) {\n      const file = event.target.files[0];\n\n      if (file) {\n        this.fileName = file.name;\n        console.log(this.fileName); //Image preview\n\n        const reader = new FileReader();\n\n        reader.onload = e => this.photoSelected = reader.result;\n\n        reader.readAsDataURL(file);\n        console.log(file);\n      }\n    }\n\n  }\n\n  ViewPostComponent.ɵfac = function ViewPostComponent_Factory(t) {\n    return new (t || ViewPostComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.PostsService), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i1.Router));\n  };\n\n  ViewPostComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ViewPostComponent,\n    selectors: [[\"app-view-post\"]],\n    decls: 51,\n    vars: 13,\n    consts: [[1, \"main\", \"p-4\"], [1, \"row-sm-12\", \"row-md-12\", \"row-lg-12\", \"d-flex\", \"justify-content-center\"], [1, \"col-xs-12\", \"col-sm-12\", \"col-md-6\", \"col-lg-6\", \"m-2\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [1, \"image-section\", \"d-flex\", \"justify-content-center\"], [\"alt\", \"\", 3, \"src\"], [\"type\", \"file\", \"hidden\", \"\", \"formControlName\", \"image\", 3, \"change\"], [\"imageUpload\", \"\"], [1, \"select-file\", \"d-flex\", \"justify-content-center\"], [\"type\", \"button\", \"mat-raised-button\", \"\", \"id\", \"upload-image\", 1, \"btn\", \"btn-block\", 3, \"click\"], [\"class\", \"file-exist\", 4, \"ngIf\"], [\"class\", \"file-noexist\", 4, \"ngIf\"], [\"for\", \"age\"], [\"type\", \"text\", \"id\", \"age\", \"formControlName\", \"name_pet\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"id\", \"age\", \"formControlName\", \"age_pet\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"sex\"], [\"sex_pet\", \"\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"formControlName\", \"sex_pet\", \"value\", \"Hola\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"race\"], [\"type\", \"text\", \"id\", \"race\", \"formControlName\", \"race_pet\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"place_dissaparence\"], [\"type\", \"text\", \"id\", \"place_dissaparence\", \"formControlName\", \"place_disapparence\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"description\"], [\"type\", \"text\", \"id\", \"description\", \"formControlName\", \"description_pet\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"date_disapparence\"], [\"type\", \"date\", \"id\", \"date_disapparence\", \"formControlName\", \"date_disapparence\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [\"mat-raised-button\", \"\", \"type\", \"submit\", \"color\", \"primary\"], [1, \"file-exist\"], [1, \"file-noexist\"]],\n    template: function ViewPostComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r6 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"mat-card\");\n        i0.ɵɵelementStart(4, \"mat-card-title\");\n        i0.ɵɵelementStart(5, \"mat-toolbar\");\n        i0.ɵɵtext(6, \" Datos del post \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"mat-card-content\");\n        i0.ɵɵelementStart(8, \"form\", 3);\n        i0.ɵɵlistener(\"ngSubmit\", function ViewPostComponent_Template_form_ngSubmit_8_listener() {\n          i0.ɵɵrestoreView(_r6);\n\n          const _r3 = i0.ɵɵreference(30);\n\n          return ctx.updatePet(_r3);\n        });\n        i0.ɵɵelementStart(9, \"div\", 4);\n        i0.ɵɵelementStart(10, \"div\", 5);\n        i0.ɵɵelement(11, \"img\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"input\", 7, 8);\n        i0.ɵɵlistener(\"change\", function ViewPostComponent_Template_input_change_12_listener($event) {\n          return ctx.onPhotoSelected($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 9);\n        i0.ɵɵelementStart(15, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function ViewPostComponent_Template_button_click_15_listener() {\n          i0.ɵɵrestoreView(_r6);\n\n          const _r0 = i0.ɵɵreference(13);\n\n          return _r0.click();\n        });\n        i0.ɵɵtemplate(16, ViewPostComponent_div_16_Template, 3, 1, \"div\", 11);\n        i0.ɵɵtemplate(17, ViewPostComponent_div_17_Template, 5, 0, \"div\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 4);\n        i0.ɵɵelementStart(19, \"label\", 13);\n        i0.ɵɵtext(20, \"Nombre\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"input\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function ViewPostComponent_Template_input_ngModelChange_21_listener($event) {\n          return ctx.postFromServer.name_pet = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 4);\n        i0.ɵɵelementStart(23, \"label\", 13);\n        i0.ɵɵtext(24, \"Edad\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function ViewPostComponent_Template_input_ngModelChange_25_listener($event) {\n          return ctx.postFromServer.age_pet = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 4);\n        i0.ɵɵelementStart(27, \"label\", 16);\n        i0.ɵɵtext(28, \"Sexo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"select\", null, 17);\n        i0.ɵɵtemplate(31, ViewPostComponent_option_31_Template, 2, 1, \"option\", 18);\n        i0.ɵɵelementStart(32, \"input\", 19);\n        i0.ɵɵlistener(\"ngModelChange\", function ViewPostComponent_Template_input_ngModelChange_32_listener($event) {\n          return ctx.postFromServer.sex_pet = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"div\", 4);\n        i0.ɵɵelementStart(34, \"label\", 20);\n        i0.ɵɵtext(35, \"Raza\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"input\", 21);\n        i0.ɵɵlistener(\"ngModelChange\", function ViewPostComponent_Template_input_ngModelChange_36_listener($event) {\n          return ctx.postFromServer.race_pet = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"div\", 4);\n        i0.ɵɵelementStart(38, \"label\", 22);\n        i0.ɵɵtext(39, \"Lugar de desaparici\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"input\", 23);\n        i0.ɵɵlistener(\"ngModelChange\", function ViewPostComponent_Template_input_ngModelChange_40_listener($event) {\n          return ctx.postFromServer.place_disapparence = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"div\", 4);\n        i0.ɵɵelementStart(42, \"label\", 24);\n        i0.ɵɵtext(43, \"Descripci\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"textarea\", 25);\n        i0.ɵɵlistener(\"ngModelChange\", function ViewPostComponent_Template_textarea_ngModelChange_44_listener($event) {\n          return ctx.postFromServer.description_pet = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"div\", 4);\n        i0.ɵɵelementStart(46, \"label\", 26);\n        i0.ɵɵtext(47, \"Fecha de desaparici\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"input\", 27);\n        i0.ɵɵlistener(\"ngModelChange\", function ViewPostComponent_Template_input_ngModelChange_48_listener($event) {\n          return ctx.postFromServer.date_disapparence = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"button\", 28);\n        i0.ɵɵtext(50, \"Guardar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"formGroup\", ctx.updatePetForm);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"src\", ctx.photoSelected || \"http://localhost:4000/\" + ctx.postFromServer.image.imagePath, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.photoSelected);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.photoSelected);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.postFromServer.name_pet);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.postFromServer.age_pet);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.sex_options);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.postFromServer.sex_pet);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.postFromServer.race_pet);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.postFromServer.place_disapparence);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.postFromServer.description_pet);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.postFromServer.date_disapparence)(\"value\", ctx.postFromServer.date_disapparence);\n      }\n    },\n    directives: [i4.MatCard, i4.MatCardTitle, i5.MatToolbar, i4.MatCardContent, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlName, i6.MatButton, i7.NgIf, i8.MatIcon, i3.NumberValueAccessor, i7.NgForOf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption],\n    styles: [\".main[_ngcontent-%COMP%]{min-width:580px}mat-toolbar[_ngcontent-%COMP%]{border-radius:10px;display:flex;justify-content:center}mat-card[_ngcontent-%COMP%]{border-radius:10px}mat-card-title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}form[_ngcontent-%COMP%]{width:100%}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin-bottom:2px;margin-top:15px}input[_ngcontent-%COMP%]{height:40px;border-radius:5px;padding:5px;border:1px solid}textarea[_ngcontent-%COMP%]{padding:5px;border:1px solid}select[_ngcontent-%COMP%]{height:40px;border-radius:5px;padding:5px;border:1px solid}button[_ngcontent-%COMP%]{width:100px;display:flex;justify-content:center;align-items:center;margin-top:10px}img[_ngcontent-%COMP%]{height:150px;width:150px}.image-section[_ngcontent-%COMP%]{display:flex;justify-content:center}#upload-image[_ngcontent-%COMP%]{width:auto}.file-exist[_ngcontent-%COMP%], .file-noexist[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{border-radius:50%}\"]\n  });\n  return ViewPostComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}